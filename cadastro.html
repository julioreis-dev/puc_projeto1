<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./img/assets/favicon.ico">   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="mock_database.js"></script>
    <script src="mock.json"></script>
    <title>BabyLogo-Cadastro</title>
</head>
<body> 
    
    <div class="row d-flex justify-content-center logo">
        <img src="./img/índice-removebg-preview.png" alt="logo">        
    </div>
    <div class="container">
        <!-- Navbar -->
        <div class="row">
            <a href="/" class="col-sm-2 offset-1 text-secondary" role="button">Home</a>
            <a href="cadastro.html" class="col-sm-2 offset-1 text-secondary" role="button">Cadastro</a>
            <a href="catalogo.html" class="col-sm-2 offset-1 text-secondary" role="button">Catálogo</a>
            <a href="/team.html" class="col-sm-2  offset-1 text-secondary" role="button">Quem Somos</a>
        </div>
        <hr>      
        <!-- block content -->
        
        <!-- first carousel -->
        <form id="form-contato">
            <div class="form-group">
              <label for="exampleFormControlInput1">Nome *</label>
              <input type="text" class="form-control" id="inputNome" placeholder="Digite aqui seu nome">
            </div>
            <div class="form-group">
                <label for="exampleFormControlInput1">Sobrenome *</label>
                <input type="text" class="form-control" id="inputSobrenome" placeholder="Digite aqui seu sobrenome">
              </div>
              <div class="form-group">
                <label for="exampleFormControlInput1">Email *</label>
                <input type="email" class="form-control" id="inputEmail" placeholder="Digite aqui seu e-mail">
              </div>
              <div class="form-group">
                <label for="exampleFormControlInput1">Nome do Produto *</label>
                <input type="text" class="form-control" id="inputNomeprod" placeholder="Digite aqui o nome do produto">
              </div>
              <div class="form-group">
                <label for="exampleFormControlInput1">Preço do Produto *</label>
                <input type="text" class="form-control" id="inputPrecoprod" placeholder="Especifique o preço que deseja vender o produto">
              </div>
            <div class="form-group">
              <label for="exampleFormControlTextarea1">Descrição do Produto:</label>
              <textarea class="form-control" id="inputDescricao" rows="7"></textarea>
            </div>
            <div class="col-sm-12 offset-4">
              <input type="button" class="btn btn-success" id="btnInsert" value="Inserir" onclick="insertdata()" />
              <input type="button" class="btn btn-warning" id="btnUpdate" value="Alterar">
              <input type="button" class="btn btn-danger" id="btnDelete" value="Excluir">
              <!-- <input type="button" class="btn btn-secondary" id="btnClear" value="Limpar Form"> -->
            </div>           
          </form>            
    </div>

    <!-- endblock content -->

    <footer>
        <div class="row d-flex justify-content-center">
            <div class="col-sm-2">
                <a href=""><img src="./img/facebook.png" alt="facebook"></a>
                <a href=""><img src="./img/twitter.png" alt="twiter"></a>
                <a href=""><img src="./img/github.png" alt="github"></a>
            </div>
            <div class="col-sm-6 offset-0">
                <small>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Non, vitae!</small>                
                <small>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Beatae, temporibus!</small>
            </div>
            <div class="col-sm-2">
                <div>
                    <a class="link-light small text-secondary" href="#!">Privacy</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small text-secondary" href="#!">Terms</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small text-secondary" href="#!">Contact</a>
                </div>
            </div>            
            <div>
                <br>
                <small class="text-secondary">Copyright &copy; <script>document.write(new Date().getFullYear())</script>. Designed &amp; Developed by <a href="https://github.com/julioreis-dev/puc_projeto1">GRUPO 3</a></small class="text-secondary">
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
      function insertdata(){            
            if (!$("#form-contato")[0].checkValidity()){                
                // const data_form = document.querySelector('#form-contato');                
                let nome = $('#inputNome').val();
                let sobrenome = $('#inputSobrenome').val();
                let email = $('#inputEmail').val();
                let nomeprod = $('#inputNomeprod').val();
                let precoprod = $('#inputPrecoprod').val();
                let descricao = $('#inputDescricao').val();
                console.log(nome);
                
                let filedata = {
                "nome":nome,
                "sobrenome": sobrenome,
                "email": email,
                "nomeprod": nomeprod,
                "image": "http://lorempixel.com.br/200/120/food/1",
                "precoprod": precoprod,
                "descricao": descricao
              }
              db.dados.push(filedata);
              console.log(db.dados);
              $("#form-contato")[0].reset();



            //   fetch('./mock.json')
            //   .then(response => {
            //     return response.json();
            //   }).then(jsondata => console.log(jsondata));

            //   let filedata = {
            //     "nome":"test",
            //     "sobrenome": "test",
            //     "email": "test@gmail.com",
            //     "nomeprod": "test",
            //     "image": "http://lorempixel.com.br/200/120/food/1",
            //     "precoprod": 150.50,
            //     "descricao": "test"
            //   }

            //   fetch('./mock.json', { // endpoint falso de API
            //   method: 'POST',
            //   headers: {
            //     'Content-Type': 'application/json',
            //   },
            //   body: JSON.stringify(filedata), // transforma o objeto literal em JS em uma string em JSON
            // })
            //   .then(res => res.json())
            //   .then(data => console.log(data))
            //   .catch(err => {
            //     console.error(err);
            //   });
              
            }
            else{
              alert("Por favor, preencha todos os campos do formulário corretamente!!!");
            }
          return;
      };
      

    </script>
</body>
</html>
